<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/mainLayout}">

<th:block layout:fragment="script">
  <div th:replace="fragments/formValidation::formValidation"></div>
</th:block>

<div class="container" layout:fragment="content">
  <div class="py-4 text-center">
    <h2>로그인</h2>
  </div>
  <div class="row justify-content-center">
    <form class="needs-validation col-sm-6" th:action="@{/member/login}" method="post" novalidate>

      <div class="form-group">
        <label for="username">이메일 또는 닉네임</label>
        <input id="username" type="text" name="username" class="form-control"
               placeholder="이메일 또는 닉네임을 입력하세요" aria-describedby="emailHelp" required>
        <small class="invalid-feedback">이메일을 입력하세요.</small>
      </div>
      <div class="form-group">
        <label for="password">비밀번호</label>
        <input id="password" type="password" name="password" class="form-control"
               aria-describedby="passwordHelp" placeholder="비밀번호를 입력하세요" required>
        <small id="passwordHelp" class="form-text text-muted">
          &nbsp;패스워드를 잊으셨나요? <a th:href="@{/member/email/login}">&nbsp;패스워드 없이 로그인하기</a>
        </small>
        <small class="invalid-feedback">패스워드를 입력하세요.</small>
      </div>
      <div class="form-group form-check">
        <input type="checkbox" class="form-check-input" id="rememberMe" name="remember-me" checked>
        <label class="form-check-label" for="rememberMe" aria-describedby="rememberMeHelp">로그인 유지</label>
      </div>

      <div class="form-group">
        <div style="text-align: center">
          <p th:if="${loginFailMsg}" class="error" th:text="${loginFailMsg}" style="color: #bd2130;"></p>
          <button type="submit" class="btn btn-primary" aria-describedby="submitHelp">로그인</button>
          <small id="submitHelp" class="form-text text-muted mt-4">
            StudyHAJA 회원이 아니시라면, <a href="#" th:href="@{/member/new}">계정을 먼저 만드세요</a>
          </small>
        </div>
      </div>
    </form>
  </div>
</div>
</html>